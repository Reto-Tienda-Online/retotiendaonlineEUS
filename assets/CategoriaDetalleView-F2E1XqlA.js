import{j as E,r as n,k as I,o as r,c as m,d as k,s as L,b as l,f as h,v as S,G as U,p as y,F as g,m as w,t as C,H as $,i as v,I as j,E as A}from"./index-T2RBepq2.js";const F={class:"flex flex-row mt-5 justify-center align-middle mx-10"},K={class:"flex flex-col mr-10 flex-1"},M=l("label",{class:"text-white",for:"nombreFiltro"}," Bilatu ",-1),G={class:"flex flex-col flex-3"},H=l("label",{for:"categoria",class:"text-white text-center"}," Kategoriak ",-1),J=l("option",{value:""},"Aukeratu kategoria bat",-1),R=["value"],T={class:"flex flex-col ml-10 flex-3"},q=l("label",{for:"plataforma",class:"text-white text-center"}," Plataformak ",-1),z=l("option",{value:"",selected:""},"Aukeratu plataforma bat",-1),O=["value"],Q={__name:"CategoriaDetalle",setup(B){const c=E(),_=n([]),x=n([]),u=n("Elige una categorÃ­a"),f=n("Elige una plataforma"),p=n(""),o=n([]),D=()=>{const a=j.concat("/all_categorias");v.get(a).then(e=>{_.value=e.data}).catch(e=>{console.log(e)})},V=()=>{v.get("http://85.50.79.98:8080/all_plataformas").then(e=>{x.value=e.data}).catch(e=>{console.log(e)})},b=(a="",e="")=>{v.get("http://85.50.79.98:8080/all_productos").then(d=>{o.value=d.data,a!==""&&e===""?o.value=o.value.filter(s=>s.nombreplataforma===a):a!==""&&e!==""?o.value=o.value.filter(s=>s.nombreplataforma===a&&s.nombrecategoria===e):e!==""&&a===""&&(o.value=o.value.filter(s=>s.nombrecategoria===e))}).catch(d=>{console.log(d)})},i=()=>{b(f.value,u.value)},N=()=>{o.value=o.value.filter(a=>a.producto.toLowerCase().includes(p.value.toLowerCase()))},P=()=>{const a=`http://85.50.79.98:8080/search?producto=${p.value}`;v.get(a).then(e=>{o.value=e.data,i()}).catch(e=>{console.error(e)})};return I(()=>{b(),D(),u.value=c.state.categoryData,f.value=c.state.plataformData,c.commit("setPlataformData",""),c.commit("setCategoryData",""),V(),i()}),(a,e)=>(r(),m(g,null,[k(L),l("div",F,[l("div",K,[M,h(l("input",{class:"text-black mt-5 rounded-md",placeholder:"Nombre del juego...",type:"search",onInput:N,onKeyup:U(P,["delete"]),onSearch:i,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t)},null,544),[[S,p.value]])]),l("div",G,[H,h(l("select",{id:"categoria",class:"text-black mt-5 rounded-md",onChange:i,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t)},[J,(r(!0),m(g,null,w(_.value,(t,d)=>(r(),m("option",{key:t.id,value:t.categoria},C(t.categoria),9,R))),128))],544),[[y,u.value]])]),l("div",T,[q,h(l("select",{id:"plataforma",class:"text-black mt-5 rounded-md",onChange:i,"onUpdate:modelValue":e[2]||(e[2]=t=>f.value=t)},[z,(r(!0),m(g,null,w(x.value,(t,d)=>(r(),m("option",{key:t.id,value:t.plataforma},C(t.plataforma),9,O))),128))],544),[[y,f.value]])])]),k($,{title:u.value,games:o.value},null,8,["title","games"])],64))}},X={__name:"CategoriaDetalleView",setup(B){return(c,_)=>(r(),A(Q))}};export{X as default};
