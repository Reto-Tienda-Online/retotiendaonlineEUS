import{r as _,u as N,j as E,k as S,a as m,o as r,c as l,d as i,w as b,F as p,m as w,b as e,i as h,t as d,g as z,q as O,s as R}from"./index-T2RBepq2.js";const V={class:"flex justify-center sm:flex-col w-full"},A=e("h2",{class:"text-center text-white text-xl font-bold my-4"}," GOGOKOEN ZERRENDA ",-1),B={key:0,class:"flex flex-col justify-center items-center"},G=e("h3",{class:"text-white text-lg font-bold"},"Ez duzu faboritorik......",-1),U={key:1,class:"flex flex-wrap ml-36"},I={class:"flex flex-row"},J=["alt","onClick","src"],L={class:"flex flex-col text-md"},M={class:""},T=["title"],K={class:"text-sm text-gray-300"},Z={class:"flex flex-rows justify-between items-center my-2"},H={class:"flex flex-col justify-center"},P={class:"price mx-2"},Q={class:"mx-2 font-bold text-sm text-gray-300"},W={class:"text-xs text-gray-200 text-pretty font-semibold"},X={class:"w-16 bg-gray-50 py-1 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","data-max":"10"},Y=e("option",{value:"0",disabled:""},"0",-1),q=["value"],ee=["onClick"],te=["onClick"],oe={__name:"FavoritosMain",setup(k){_(!1);const a=_({nombre:"",id:""}),v=N(),u=_([]),C=E(),g=_(!1),$=t=>`/imgs/juegos/${t}/2.webp`;async function f(t){try{const s=await h.get(`listadeseo?id_usuario=${t}`);u.value=s.data,u.value.length===0&&(g.value=!0)}catch{}}async function j(t){try{await h.post("carrocompra",{id_usuario:a.value.id,id_producto:t}),y(t),f(a.value.id),console.log("Añadido al carrito")}catch(s){console.error(s)}}async function y(t){const s=a.value.id,n=t;try{await h.delete(`listadeseo/${s}/${n}`),f(a.value.id)}catch(x){console.error(x)}}const F=t=>{t.favorito=!0,C.commit("setJuegoDetalle",t),v.push("/juegoDetalle")};return S(()=>{a.value=JSON.parse(localStorage.getItem("usuario")),f(a.value.id),console.log(u)}),(t,s)=>{const n=m("font-awesome-icon"),x=m("router-link"),D=m("divm");return r(),l("main",V,[A,g.value?(r(),l("div",B,[i(x,{to:"/"},{default:b(()=>[i(n,{icon:"heart-crack",class:"h-60 text-2xl hover:text-resaltar cursor-pointer transition-all duration-500 ease-in-out text-white"})]),_:1}),G])):(r(),l("div",U,[(r(!0),l(p,null,w(u.value,o=>(r(),l("div",{key:o.id,class:"w-[250px] flex flex-col text-white mx-4 justify-around bg-[#1f1f1f] px-2 py-2 rounded-md mb-4"},[e("div",I,[e("picture",null,[e("img",{alt:o.producto+" imagen",class:"picture rounded-xl h-full w-full",onClick:c=>F(o.producto),src:$(o.id_producto),loading:"lazy"},null,8,J)])]),e("div",L,[e("div",M,[e("span",{title:`${o.producto.producto} - ${o.producto.descripcion}`,class:"font-bold text-lg"},d(o.producto.producto),9,T)]),e("div",K,d(o.producto.plataforma.plataforma),1)]),e("div",Z,[e("div",H,[e("div",P,d(o.producto.precio_unitario)+"€ ",1),e("div",Q,d(o.producto.descuento.descuento)+" % ",1)]),e("label",W,[z("Cantidad: "),e("select",X,[Y,(r(),l(p,null,w(10,c=>e("option",{key:c,value:c},d(c),9,q)),64))])])]),i(D,{class:"flex flex-row justify-between items-center"},{default:b(()=>[e("button",{"aria-label":"Add shopping cart",onClick:c=>j(o.id_producto),class:"flex justify-center px-4 py-1 mt-3 rounded-md text-sm text-white hover:text-resaltar"},[i(n,{icon:"shopping-cart",class:"w-8 h-8"})],8,ee),e("a",{onClick:c=>y(o.id_producto),class:"flex justify-center px-4 py-1 mt-3 rounded-md text-sm border-white text-white hover:border-resaltar"},[i(n,{icon:"heart",class:O(["w-8 h-8 hover:text-white",{"text-red-600":!t.favorito}])},null,8,["class"])],8,te)]),_:2},1024)]))),128))]))])}}},ae={__name:"FavoritosView",setup(k){return(a,v)=>(r(),l(p,null,[i(R),i(oe)],64))}};export{ae as default};
