import{N as h}from"./AdminNavBar-jw3LCUVj.js";import{y,i,a as w,o as d,c,b as e,d as m,e as k,t as b,g as s,f as a,v as f,p as g,F as p,m as x}from"./index-T2RBepq2.js";const P={data(){return{formNewProducto:{producto:"",id_plataforma:"",precio_unitario:0,id_descuento:"",descripcion:"",rutavideo:"",iframetrailer:""},selectedFile:null,plataformas:[],descuentos:[]}},mounted(){this.getPlatforms(),this.getDescuentos()},methods:{handleFileChange(t){this.selectedFile=t.target.files[0]},createProduct(){i.post("/create_producto",this.formNewProducto).then(t=>{console.log("Producto creado:",t.data);const r=new FormData;r.append("file",this.selectedFile),r.append("id",t.data.id),i.post("/upload_video",r).then(n=>{console.log("Video subido:",n.data)}).catch(n=>{console.error("Error al subir el video:",n)})}).catch(t=>{console.error("Error al crear el producto:",t),console.log(this.formNewProducto)})},async getPlatforms(){i.get("/all_plataformas").then(t=>{this.plataformas=t.data}).catch(t=>{console.error("Error al obtener las plataformas:",t)})},async getDescuentos(){i.get("/all_descuentos").then(t=>{this.descuentos=t.data,console.log(this.descuentos)}).catch(t=>{console.error("Error al obtener los descuentos:",t)})}}},v={class:"flex flex-col text-white w-full h-screen"},N={class:"flex justify-end my-4 mr-6"},V={class:"flex items-center"},F={class:"w-full h-full flex flex-row justify-center items-center mt-4 bg-transparent"},D={class:"flex justify-center items-center py-2 text-xl italic"},U={class:"w-full flex flex-row py-2"},C={class:"w-full text-md font-bold px-2"},E={class:"w-full text-md font-bold px-2"},j=e("option",{value:"",disabled:"",selected:""},"Elegir plataforma",-1),M=["value"],B={class:"flex flex-row py-2"},S={class:"w-1/3 text-md font-bold px-4"},L={class:"w-1/3 text-md font-bold px-4"},R=e("option",{value:"",disabled:"",selected:""},"Elegir descuento",-1),T=["value"],A={class:"text-md font-bold px-2"},Y={class:"text-md font-bold"},q={class:"text-md font-bold"},z=e("button",{type:"submit",class:"flex justify-center items-center py-2 px-4 rounded-md font-barlow font-bold bg-resaltar mx-auto mt-4 hover:-translate-y-1 hover:translate-x-1"}," Crear Producto ",-1),G=e("div",{class:"w-1/6 flex flex-col mx-4"},null,-1);function H(t,r,n,K,l,u){const _=w("font-awesome-icon");return d(),c("main",v,[e("nav",N,[e("div",V,[m(_,{icon:"bell",class:"w-6 h-6"})])]),e("section",F,[e("form",{onSubmit:r[7]||(r[7]=k((...o)=>u.createProduct&&u.createProduct(...o),["prevent"])),class:"flex flex-col w-3/6 text-black py-6 px-6 bg-gray-400 border-2 border-black rounded-lg"},[e("h1",D,"Nuevo Producto: "+b(l.formNewProducto.producto),1),e("div",U,[e("label",C,[s(" Nombre: "),a(e("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>l.formNewProducto.producto=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[f,l.formNewProducto.producto]])]),e("label",E,[s(" Plataforma: "),a(e("select",{"onUpdate:modelValue":r[1]||(r[1]=o=>l.formNewProducto.id_plataforma=o)},[j,(d(!0),c(p,null,x(l.plataformas,o=>(d(),c("option",{key:o.id,value:o.id,class:"text-black"},b(o.plataforma),9,M))),128))],512),[[g,l.formNewProducto.id_plataforma]])])]),e("div",B,[e("label",S,[s(" Precio Unitario €: "),a(e("input",{"onUpdate:modelValue":r[2]||(r[2]=o=>l.formNewProducto.unitPrice=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[f,l.formNewProducto.unitPrice]])]),e("label",L,[s(" Descuento (%): "),a(e("select",{"onUpdate:modelValue":r[3]||(r[3]=o=>l.formNewProducto.id_descuento=o),class:"text-black"},[R,(d(!0),c(p,null,x(l.descuentos,o=>(d(),c("option",{key:o.id,value:o.id,class:"text-black"},b(o.descuento)+"% ",9,T))),128))],512),[[g,l.formNewProducto.id_descuento]])])]),e("label",A,[s(" Ruta de Video: "),e("input",{type:"file",onChange:r[4]||(r[4]=(...o)=>u.handleFileChange&&u.handleFileChange(...o)),class:"h-full py-0 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,32)]),e("label",Y,[s(" URL Youtube: "),a(e("input",{"onUpdate:modelValue":r[5]||(r[5]=o=>l.formNewProducto.iframetrailer=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[f,l.formNewProducto.iframetrailer]])]),e("label",q,[s(" Descripción: "),a(e("textarea",{"onUpdate:modelValue":r[6]||(r[6]=o=>l.formNewProducto.descripcion=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[f,l.formNewProducto.descripcion]])]),z],32),G])])}const I=y(P,[["render",H]]),J={class:"flex flex-row bg-gray-700 h-full"},W={__name:"CreateProductoView",setup(t){return(r,n)=>(d(),c("div",J,[m(h),m(I)]))}};export{W as default};
