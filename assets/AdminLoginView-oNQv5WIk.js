import{r as n,o as c,c as u,b as e,f as d,v as m,e as v,q as g,t as b,h as w,n as _,u as y,i as k}from"./index-T2RBepq2.js";const M={class:"h-screen w-screen flex justify-center items-center bg-background"},S={class:"w-1/3 h-full mb-4 px-2"},B=e("label",{class:"text-gray-100 font-bold block mb-2 text-sm",for:"pretext-input"},"Email",-1),C={class:"flex w-full"},V=e("div",{class:"bg-primary flex items-center px-4 py-2 border border-r-0 rounded-l text-sm font-medium text-white select-none"},[e("svg",{class:"w-7 h-6 text-grey-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),j={class:"flex-1"},z={class:"w-1/3 mb-4 px-2"},D=e("label",{class:"text-gray-100 font-bold block mb-2 text-sm",for:"pretext-input"},"Contraseña",-1),L={class:"flex w-full"},N=_('<div class="bg-primary flex items-center px-4 py-2 border border-r-0 rounded-l text-sm font-medium text-gray-800 select-none"><svg class="w-7 h-6 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="8" cy="15" r="4"></circle><line x1="10.85" y1="12.15" x2="19" y2="4"></line><line x1="18" y1="5" x2="20" y2="7"></line><line x1="15" y1="8" x2="17" y2="10"></line></svg></div>',1),q={class:"flex-1"},E=e("button",{type:"submit",class:"h-10 w-1/3 px-4 py-1 my-4 text-xs rounded-full text-white bg-primary focus:outline-none hover:bg-resaltar"}," Login ",-1),H=e("a",{href:"#",class:"h-10 w-1/3 px-4 py-1 text-xs flex justify-center items-center rounded-full bg-white hover:bg-gray-300 text-primary"},[e("p",{class:"text-sm"},"¿Olvidaste tu contraseña?")],-1),I=e("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1),U={class:"font-medium"},O={__name:"AdminLoginView",setup(Z){const l=n(""),i=n(""),r=n(""),a=n(""),p=y(),x=async()=>{const o={username:l.value,password:i.value};try{const s=new FormData;s.append("username",o.username),s.append("password",o.password);const t=await k.post("token",s);if(t.status===200&&t.data.usuario&&t.data.access_token&&t.data.usuario.admin){console.log("submited");const f=h(t.data);r.value="Login successful!",localStorage.setItem("usuario",JSON.stringify(f)),localStorage.setItem("isLoggedIn",!0),p.push("/admin")}else a.value="correo o contraseña incorrecto"}catch(s){console.error("Error registering user:",s),a.value="correo o contraseña incorrecto"}},h=o=>({id:o.usuario.id,nombre:o.usuario.nombre,apellido:o.usuario.apellido,correo:o.usuario.correo,admin:o.usuario.admin,token:o.access_token});return(o,s)=>(c(),u("main",M,[e("form",{onSubmit:v(x,["prevent"]),class:"w-full flex flex-col items-center"},[e("div",S,[B,e("div",C,[V,e("div",j,[d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),id:"correo",class:"w-full border px-4 py-2 rounded-r focus:border-blue-500 focus:shadow-outline outline-none",type:"email",placeholder:"admin@admin.com",required:""},null,512),[[m,l.value]])])])]),e("div",z,[D,e("div",L,[N,e("div",q,[d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t),id:"contrasena",class:"w-full border px-4 py-2 rounded-r focus:border-blue-500 focus:shadow-outline outline-none",type:"password",placeholder:"******",required:""},null,512),[[m,i.value]])])])]),E,H],32),r.value||a.value?(c(),u("div",{key:0,class:g(["flex items-center p-4 mb-4 text-sm rounded-lg dark:text-white",{"bg-green-50 dark:bg-gray-800":r.value,"bg-red-50 dark:bg-gray-800":a.value}]),role:"alert"},[I,e("span",U,b(r.value?r.value:a.value),1)],2)):w("",!0)]))}};export{O as default};
